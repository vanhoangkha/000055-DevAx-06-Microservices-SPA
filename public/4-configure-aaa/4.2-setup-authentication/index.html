<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.99.1" />
    <meta name="description" content="">
<meta name="author" content="journeyoftheaverageguy@gmail.com">

    <link rel="icon" href="/images/favicon.png" type="image/png">

    <title>Microservice Authentication :: DevAx - Monoliths to Microservices - Microservices-SPA</title>

    
    <link href="/css/nucleus.css?1674309799" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1674309799" rel="stylesheet">
    <link href="/css/hybrid.css?1674309799" rel="stylesheet">
    <link href="/css/featherlight.min.css?1674309799" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1674309799" rel="stylesheet">
    <link href="/css/auto-complete.css?1674309799" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css?1674309799" rel="stylesheet">
    <link href="/css/theme.css?1674309799" rel="stylesheet">
    <link href="/css/hugo-theme.css?1674309799" rel="stylesheet">
    
    <link href="/css/theme-workshop.css?1674309799" rel="stylesheet">
    
    

    <script src="/js/jquery-3.3.1.min.js?1674309799"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/4-configure-aaa/4.2-setup-authentication/">
    <nav id="sidebar" class="showVisitedLinks">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="/">

<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 30" width="30%"><defs><style>.cls-1{fill:#fff;}.cls-2{fill:#f90;fill-rule:evenodd;}</style></defs><title>AWS-Logo_White-Color</title><path class="cls-1" d="M14.09,10.85a4.7,4.7,0,0,0,.19,1.48,7.73,7.73,0,0,0,.54,1.19.77.77,0,0,1,.12.38.64.64,0,0,1-.32.49l-1,.7a.83.83,0,0,1-.44.15.69.69,0,0,1-.49-.23,3.8,3.8,0,0,1-.6-.77q-.25-.42-.51-1a6.14,6.14,0,0,1-4.89,2.3,4.54,4.54,0,0,1-3.32-1.19,4.27,4.27,0,0,1-1.22-3.2A4.28,4.28,0,0,1,3.61,7.75,6.06,6.06,0,0,1,7.69,6.46a12.47,12.47,0,0,1,1.76.13q.92.13,1.91.36V5.73a3.65,3.65,0,0,0-.79-2.66A3.81,3.81,0,0,0,7.86,2.3a7.71,7.71,0,0,0-1.79.22,12.78,12.78,0,0,0-1.79.57,4.55,4.55,0,0,1-.58.22l-.26,0q-.35,0-.35-.52V2a1.09,1.09,0,0,1,.12-.58,1.2,1.2,0,0,1,.47-.35A10.88,10.88,0,0,1,5.77.32,10.19,10.19,0,0,1,8.36,0a6,6,0,0,1,4.35,1.35,5.49,5.49,0,0,1,1.38,4.09ZM7.34,13.38a5.36,5.36,0,0,0,1.72-.31A3.63,3.63,0,0,0,10.63,12,2.62,2.62,0,0,0,11.19,11a5.63,5.63,0,0,0,.16-1.44v-.7a14.35,14.35,0,0,0-1.53-.28,12.37,12.37,0,0,0-1.56-.1,3.84,3.84,0,0,0-2.47.67A2.34,2.34,0,0,0,5,11a2.35,2.35,0,0,0,.61,1.76A2.4,2.4,0,0,0,7.34,13.38Zm13.35,1.8a1,1,0,0,1-.64-.16,1.3,1.3,0,0,1-.35-.65L15.81,1.51a3,3,0,0,1-.15-.67.36.36,0,0,1,.41-.41H17.7a1,1,0,0,1,.65.16,1.4,1.4,0,0,1,.33.65l2.79,11,2.59-11A1.17,1.17,0,0,1,24.39.6a1.1,1.1,0,0,1,.67-.16H26.4a1.1,1.1,0,0,1,.67.16,1.17,1.17,0,0,1,.32.65L30,12.39,32.88,1.25A1.39,1.39,0,0,1,33.22.6a1,1,0,0,1,.65-.16h1.54a.36.36,0,0,1,.41.41,1.36,1.36,0,0,1,0,.26,3.64,3.64,0,0,1-.12.41l-4,12.86a1.3,1.3,0,0,1-.35.65,1,1,0,0,1-.64.16H29.25a1,1,0,0,1-.67-.17,1.26,1.26,0,0,1-.32-.67L25.67,3.64,23.11,14.34a1.26,1.26,0,0,1-.32.67,1,1,0,0,1-.67.17Zm21.36.44a11.28,11.28,0,0,1-2.56-.29,7.44,7.44,0,0,1-1.92-.67,1,1,0,0,1-.61-.93v-.84q0-.52.38-.52a.9.9,0,0,1,.31.06l.42.17a8.77,8.77,0,0,0,1.83.58,9.78,9.78,0,0,0,2,.2,4.48,4.48,0,0,0,2.43-.55,1.76,1.76,0,0,0,.86-1.57,1.61,1.61,0,0,0-.45-1.16A4.29,4.29,0,0,0,43,9.22l-2.41-.76A5.15,5.15,0,0,1,38,6.78a3.94,3.94,0,0,1-.83-2.41,3.7,3.7,0,0,1,.45-1.85,4.47,4.47,0,0,1,1.19-1.37A5.27,5.27,0,0,1,40.51.29,7.4,7.4,0,0,1,42.6,0a8.87,8.87,0,0,1,1.12.07q.57.07,1.08.19t.95.26a4.27,4.27,0,0,1,.7.29,1.59,1.59,0,0,1,.49.41.94.94,0,0,1,.15.55v.79q0,.52-.38.52a1.76,1.76,0,0,1-.64-.2,7.74,7.74,0,0,0-3.2-.64,4.37,4.37,0,0,0-2.21.47,1.6,1.6,0,0,0-.79,1.48,1.58,1.58,0,0,0,.49,1.18,4.94,4.94,0,0,0,1.83.92L44.55,7a5.08,5.08,0,0,1,2.57,1.6A3.76,3.76,0,0,1,47.9,11a4.21,4.21,0,0,1-.44,1.93,4.4,4.4,0,0,1-1.21,1.47,5.43,5.43,0,0,1-1.85.93A8.25,8.25,0,0,1,42.05,15.62Z"></path><path class="cls-2" d="M45.19,23.81C39.72,27.85,31.78,30,25,30A36.64,36.64,0,0,1,.22,20.57c-.51-.46-.06-1.09.56-.74A49.78,49.78,0,0,0,25.53,26.4,49.23,49.23,0,0,0,44.4,22.53C45.32,22.14,46.1,23.14,45.19,23.81Z"></path><path class="cls-2" d="M47.47,21.21c-.7-.9-4.63-.42-6.39-.21-.53.06-.62-.4-.14-.74,3.13-2.2,8.27-1.57,8.86-.83s-.16,5.89-3.09,8.35c-.45.38-.88.18-.68-.32C46.69,25.8,48.17,22.11,47.47,21.21Z"></path></svg>

</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1674309799"></script>
<script type="text/javascript" src="/js/auto-complete.js?1674309799"></script>
<script type="text/javascript">
    
        var baseurl = "";
    
</script>
<script type="text/javascript" src="/js/search.js?1674309799"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/1-prerequisites/" title="Prerequisites" class="dd-item 
        
        
        
        ">
      <a href="/1-prerequisites/">
          <b>1. </b>Prerequisites
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/1-prerequisites/1-create-environment/" title="Create Environment" class="dd-item 
        
        
        
        ">
      <a href="/1-prerequisites/1-create-environment/">
          <b>1.1. </b>Create Environment
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/1-prerequisites/1-create-environment/1-vpc/" title="VPC" class="dd-item 
        
        
        
        ">
      <a href="/1-prerequisites/1-create-environment/1-vpc/">
          <b>1.1.1. </b>VPC
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/1-prerequisites/1-create-environment/2-ec2/" title="EC2" class="dd-item 
        
        
        
        ">
      <a href="/1-prerequisites/1-create-environment/2-ec2/">
          <b>1.1.2. </b>EC2
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/1-prerequisites/1-create-environment/3-rds/" title="RDS" class="dd-item 
        
        
        
        ">
      <a href="/1-prerequisites/1-create-environment/3-rds/">
          <b>1.1.3. </b>RDS
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/1-prerequisites/2-remote-env-config-cli/" title="Remote enviroment &amp; Configure the AWS CLI" class="dd-item 
        
        
        
        ">
      <a href="/1-prerequisites/2-remote-env-config-cli/">
          <b>1.2. </b>Remote enviroment &amp; Configure the AWS CLI
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/1-introduction/" title="Introduction" class="dd-item 
        
        
        
        ">
      <a href="/1-introduction/">
          <b>1. </b>Introduction
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/2-spa/" title="Single Page Application" class="dd-item 
        
        
        
        ">
      <a href="/2-spa/">
          <b>2. </b>Single Page Application
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/2-spa/1-prerequisites/" title="Pre-requisites" class="dd-item 
        
        
        
        ">
      <a href="/2-spa/1-prerequisites/">
          <b>2.1. </b>Pre-requisites
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/2-spa/1-prerequisites/a/" title="Eclipse Environment" class="dd-item 
        
        
        
        ">
      <a href="/2-spa/1-prerequisites/a/">
          <b>Option A. </b>Eclipse Environment
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2-spa/1-prerequisites/b/" title="AWS Cloud9 Environment" class="dd-item 
        
        
        
        ">
      <a href="/2-spa/1-prerequisites/b/">
          <b>Option B. </b>AWS Cloud9 Environment
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2-spa/2-build-deploy/" title="Serverless Microservices" class="dd-item 
        
        
        
        ">
      <a href="/2-spa/2-build-deploy/">
          <b>2.2. </b>Serverless Microservices
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2-spa/3-api-gateway/" title="Create and Expose the API" class="dd-item 
        
        
        
        ">
      <a href="/2-spa/3-api-gateway/">
          <b>2.3. </b>Create and Expose the API
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2-spa/4-codestar-cicd/" title="Deploy the API using CodeStar and CI/CD" class="dd-item 
        
        
        
        ">
      <a href="/2-spa/4-codestar-cicd/">
          <b>2.4. </b>Deploy the API using CodeStar and CI/CD
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/2-spa/4-codestar-cicd/a/" title="Eclipse Environment" class="dd-item 
        
        
        
        ">
      <a href="/2-spa/4-codestar-cicd/a/">
          <b>Option A. </b>Eclipse Environment
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2-spa/4-codestar-cicd/b/" title="AWS Cloud9 Environment" class="dd-item 
        
        
        
        ">
      <a href="/2-spa/4-codestar-cicd/b/">
          <b>Option B. </b>AWS Cloud9 Environment
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2-spa/5-setup-spa/" title="Setup the SPA Webpage" class="dd-item 
        
        
        
        ">
      <a href="/2-spa/5-setup-spa/">
          <b>2.5. </b>Setup the SPA Webpage
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2-spa/6-consume-api/" title="Consume the API" class="dd-item 
        
        
        
        ">
      <a href="/2-spa/6-consume-api/">
          <b>2.6. </b>Consume the API
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/2-prepare/" title="Preparation" class="dd-item 
        
        
        
        ">
      <a href="/2-prepare/">
          <b>2. </b>Preparation
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/2-prepare/2.1-createkeypair/" title="Create Key Pair" class="dd-item 
        
        
        
        ">
      <a href="/2-prepare/2.1-createkeypair/">
          <b>2.1. </b>Create Key Pair
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2-prepare/2.2-createstack/" title="Create a CloudFormation stack" class="dd-item 
        
        
        
        ">
      <a href="/2-prepare/2.2-createstack/">
          <b>2.2. </b>Create a CloudFormation stack
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2-prepare/2.3-connectvirtualmachine/" title="Connect to the Windows Instance" class="dd-item 
        
        
        
        ">
      <a href="/2-prepare/2.3-connectvirtualmachine/">
          <b>2.3. </b>Connect to the Windows Instance
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/3-aaa/" title="Configure AAA" class="dd-item 
        
        
        
        ">
      <a href="/3-aaa/">
          <b>3. </b>Configure AAA
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/3-aaa/1-cognito/" title="SPA Authentication" class="dd-item 
        
        
        
        ">
      <a href="/3-aaa/1-cognito/">
          <b>3.1. </b>SPA Authentication
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/3-aaa/2-microservice-authen/" title="Microservice Authentication" class="dd-item 
        
        
        
        ">
      <a href="/3-aaa/2-microservice-authen/">
          <b>3.2. </b>Microservice Authentication
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/3-aaa/3-deploy-test/" title="Deploy and Test" class="dd-item 
        
        
        
        ">
      <a href="/3-aaa/3-deploy-test/">
          <b>3.3. </b>Deploy and Test
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/3-aaa/4-signup-signin/" title="User Sign Up/Sign In" class="dd-item 
        
        
        
        ">
      <a href="/3-aaa/4-signup-signin/">
          <b>3.4. </b>User Sign Up/Sign In
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/3-create-single-page-app/" title="Creating A Single Page Application" class="dd-item 
        
        
        
        ">
      <a href="/3-create-single-page-app/">
          <b>3. </b>Creating A Single Page Application
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/3-create-single-page-app/3.1-create-dynamodb-table/" title="Create A DynamoDB Table" class="dd-item 
        
        
        
        ">
      <a href="/3-create-single-page-app/3.1-create-dynamodb-table/">
          <b>3.1. </b>Create A DynamoDB Table
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/3-create-single-page-app/3.2-build-and-deploy-serverless-microservice/" title="Manually Build And Deploy A Serverless Microservice" class="dd-item 
        
        
        
        ">
      <a href="/3-create-single-page-app/3.2-build-and-deploy-serverless-microservice/">
          <b>3.2. </b>Manually Build And Deploy A Serverless Microservice
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/3-create-single-page-app/3.3-create-api-with-api-gateway/" title="Create And Expose the API with Amazon API Gateway" class="dd-item 
        
        
        
        ">
      <a href="/3-create-single-page-app/3.3-create-api-with-api-gateway/">
          <b>3.3. </b>Create And Expose the API with Amazon API Gateway
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/3-create-single-page-app/3.4-deploy-api-with-codestar/" title="Deploy the api using code star and CI/CD" class="dd-item 
        
        
        
        ">
      <a href="/3-create-single-page-app/3.4-deploy-api-with-codestar/">
          <b>3.4. </b>Deploy the api using code star and CI/CD
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/3-create-single-page-app/3.5-setup-single-page-app-website/" title="Setup The Single Page Application Website" class="dd-item 
        
        
        
        ">
      <a href="/3-create-single-page-app/3.5-setup-single-page-app-website/">
          <b>3.5. </b>Setup The Single Page Application Website
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/3-create-single-page-app/3.6-build-api-consumer/" title="Build A Client To Consume The API" class="dd-item 
        
        
        
        ">
      <a href="/3-create-single-page-app/3.6-build-api-consumer/">
          <b>3.6. </b>Build A Client To Consume The API
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/4-xray/" title="Application Performance" class="dd-item 
        
        
        
        ">
      <a href="/4-xray/">
          <b>4. </b>Application Performance
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/4-configure-aaa/" title="Configure Authentication, Authorization and Accounting (AAA)" class="dd-item 
        parent
        
        
        ">
      <a href="/4-configure-aaa/">
          <b>4. </b>Configure Authentication, Authorization and Accounting (AAA)
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/4-configure-aaa/4.1-add-authentication-with-cognito/" title="Add Authentication to the SPA using Amazon Cognito User Pools" class="dd-item 
        
        
        
        ">
      <a href="/4-configure-aaa/4.1-add-authentication-with-cognito/">
          <b>4.1. </b>Add Authentication to the SPA using Amazon Cognito User Pools
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/4-configure-aaa/4.2-setup-authentication/" title="Microservice Authentication" class="dd-item 
        parent
        active
        
        ">
      <a href="/4-configure-aaa/4.2-setup-authentication/">
          <b>4.2. </b>Microservice Authentication
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/4-configure-aaa/4.3-deploy-and-test/" title="Deploy And Test" class="dd-item 
        
        
        
        ">
      <a href="/4-configure-aaa/4.3-deploy-and-test/">
          <b>4.3. </b>Deploy And Test
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/4-configure-aaa/4.4-add-new-user-signup_signin/" title="Add New User Sign Up and Sign In" class="dd-item 
        
        
        
        ">
      <a href="/4-configure-aaa/4.4-add-new-user-signup_signin/">
          <b>4.4. </b>Add New User Sign Up and Sign In
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/5-challenge/" title="Challenge" class="dd-item 
        
        
        
        ">
      <a href="/5-challenge/">
          <b>5. </b>Challenge
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/5-tracing-application-performance-with-xray/" title="Tracing Application Performance With AWS X-Ray" class="dd-item 
        
        
        
        ">
      <a href="/5-tracing-application-performance-with-xray/">
          <b>5. </b>Tracing Application Performance With AWS X-Ray
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/6-conclusion/" title="Conclusion" class="dd-item 
        
        
        
        ">
      <a href="/6-conclusion/">
          <b>6. </b>Conclusion
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/6-challenge/" title="Challenge" class="dd-item 
        
        
        
        ">
      <a href="/6-challenge/">
          <b>6. </b>Challenge
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/7-resources/" title="Reference resources" class="dd-item 
        
        
        
        ">
      <a href="/7-resources/">
          <b>7. </b>Reference resources
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/7-cleanup/" title="Clean up resources" class="dd-item 
        
        
        
        ">
      <a href="/7-cleanup/">
          <b>7. </b>Clean up resources
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
         
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li> 
                  <a class="padding" href="http://awsstudygroup.com"><i class='fab fa-aws'></i> AWS Study Group - Blog</a>
              </li>
          
              <li> 
                  <a class="padding" href="https://www.facebook.com/groups/660548818043427/"><i class='fab fa-facebook'></i> AWS Study Group - FB Group</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      
        <li>
          <a class="padding">
            <i class="fas fa-language fa-fw"></i>
          <div class="select-style">
            <select id="select-language" onchange="location = this.value;">
          
          
          
              
              
                  
                    
                    
                      <option id="en" value="/4-configure-aaa/4.2-setup-authentication/" selected>English</option>
                    
                  
              
                  
              
          
              
              
                  
              
                  
                    
                    
                      <option id="vi" value="/vi/4-configure-aaa/4.2-setup-authentication/">Tiếng Việt</option>
                    
                  
              
          
        </select>
        <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
          width="255px" height="255px" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255;" xml:space="preserve">
          <g>
            <g id="arrow-drop-down">
              <polygon points="0,63.75 127.5,191.25 255,63.75 		" />
            </g>
          </g>
        </svg>
        </div>
        </a>
        </li>
      
      
      
        <li><a class="padding" href="#" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> Clear History</a></li>
      
      </ul>
    </section>
    
    <section id="footer">
      <left>
    
     <b> Workshop</b> <br>
    <img src="https://hitwebcounter.com/counter/counter.php?page=7831159&style=0038&nbdigits=9&type=page&initCount=0" title="Migrate" Alt="web counter"   border="0" /></a>  <br>
     <b> <a href="https://cloudjourney.awsstudygroup.com/">Cloud Journey</a></b> <br>
    <img src="https://hitwebcounter.com/counter/counter.php?page=7830807&style=0038&nbdigits=9&type=page&initCount=0" title="Total CLoud Journey" Alt="web counter"   border="0"   />
     
</left>
<left>
    <br>
    <br>
        <b> Last Updated </b> <br>
        <i><font color=orange>21-01-2023</font></i>
    </left>
    <left>
        <br>
        <br>
            <b> Team </b> <br>
           
            <i>
                <a href="https://www.linkedin.com/in/jotaguy"  style="color:orange">Gia Hưng</a>
        </i>
        </left>

<script async defer src="https://buttons.github.io/buttons.js"></script>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/'>Creating an Authenticated Single Page Application (SPA) </a> > <a href='/4-configure-aaa/'>Configure Authentication, Authorization and Accounting (AAA)</a> > Microservice Authentication
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Microservice Authentication
            </h1>
          

        



	<h4 id="setting-up-authentication-for-the-microservice">Setting Up Authentication For The Microservice</h4>
<p>Right now, if you click the <strong>Go!</strong> button on the web site and do not enter a city to filter, you will see a dialog with all available trips. We want to change this behaviour so that you must be logged in in order to be able to search for all trips without a filter. This is just an example to demonstrate how we could limit certain API calls to only authenticated users.</p>
<ol>
<li>Go to <a href="https://console.aws.amazon.com/apigateway/home"><strong>AWS API Gateway Console</strong></a>.</li>
</ol>
<ul>
<li>Type <code>iDevelop - Trip Search API</code> to the search bar</li>
<li>Click <strong>iDevelop - Trip Search API</strong>
<img src="/images/4-configure-aaa/4.2-setup-authentication/setup-authentication-001.png?featherlight=false&amp;width=90pc" alt="Microservice Authentication"></li>
</ul>
<ol start="2">
<li>Click <strong>Gateway Responses</strong></li>
</ol>
<ul>
<li>Select <strong>Unauthorized</strong></li>
<li>Click <strong>Edit</strong>
<img src="/images/4-configure-aaa/4.2-setup-authentication/setup-authentication-002.png?featherlight=false&amp;width=90pc" alt="Microservice Authentication"></li>
</ul>
<ol start="4">
<li>In order for our web application to be able to receive the <strong>unauthorized 401</strong> status, we need to add <strong>CORS headers</strong> to the response. Without the headers, the browser will not have permission to receive the 401 status. We have already enabled CORS for status 200 responses when we set up the API Gateway endpoints earlier. But we need to explicitly allow for status 401 to be returned.</li>
</ol>
<ul>
<li>Click <strong>Add response header</strong></li>
<li>In the <strong>Response header</strong> column of the first <strong>Response Header</strong>, type <code>Access-Control-Allow-Origin</code></li>
<li>In the <strong>Value</strong> column, type <code>'*'</code></li>
<li>In the <strong>Response header</strong> column of the second <strong>Response Header</strong>, type <code>Access-Control-Allow-Headers</code></li>
<li>In the <strong>Value</strong> column, type <code>'*'</code></li>
<li>Click <strong>Save</strong>
<img src="/images/4-configure-aaa/4.2-setup-authentication/setup-authentication-003.png?featherlight=false&amp;width=90pc" alt="Microservice Authentication"></li>
</ul>
<h4 id="create-an-authorizer-that-uses-the-cognito-user-pool">Create an Authorizer that uses the Cognito User Pool</h4>
<p>API Gateway integrates tightly with Cognito for authorization. You simply need to declare your Cognito User Pool as an authorizer for your API.</p>
<ol start="5">
<li>Click <strong>Authorizers</strong></li>
</ol>
<ul>
<li>Click <strong>Create New Authorizer</strong></li>
<li>In the <strong>Name</strong> section, type <code>TravelBuddy</code></li>
<li>In the <strong>Type</strong> section, select <strong>Cognito</strong></li>
<li>In the <strong>Cognito User Pool</strong> section, select <strong>TravelBuddy</strong></li>
<li>In the <strong>Token Source</strong> section, type <code>Authorization</code></li>
<li>Click <strong>Create</strong>
<img src="/images/4-configure-aaa/4.2-setup-authentication/setup-authentication-005.png?featherlight=false&amp;width=90pc" alt="Microservice Authentication"></li>
</ul>
<h4 id="mark-the-trips-microservices-to-require-authentication">Mark the /trips microservices to require authentication</h4>
<ol start="6">
<li>Click <strong>Resources</strong></li>
</ol>
<ul>
<li>Click the GET method beneath /trips</li>
<li>Click <strong>Method Request</strong>
<img src="/images/4-configure-aaa/4.2-setup-authentication/setup-authentication-006.png?featherlight=false&amp;width=90pc" alt="Microservice Authentication"></li>
</ul>
<ol start="7">
<li>In the <strong>Authorization</strong> section, click the pencil icon
<img src="/images/4-configure-aaa/4.2-setup-authentication/setup-authentication-007.png?featherlight=false&amp;width=90pc" alt="Microservice Authentication"></li>
<li>Select <strong>TravelBuddy</strong>. This is the authoriser we created in the previous step, and links to the Cognito User Pool we are using for our user database. If it does not appear, try refreshing your browser.</li>
</ol>
<ul>
<li>Click the grey tick next to the field to save the change.
<img src="/images/4-configure-aaa/4.2-setup-authentication/setup-authentication-008.png?featherlight=false&amp;width=90pc" alt="Microservice Authentication"></li>
</ul>





<footer class=" footline" >
	
</footer>

        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="/4-configure-aaa/4.1-add-authentication-with-cognito/" title="Add Authentication to the SPA using Amazon Cognito User Pools"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/4-configure-aaa/4.3-deploy-and-test/" title="Deploy And Test" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1674309799"></script>
    <script src="/js/perfect-scrollbar.min.js?1674309799"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1674309799"></script>
    <script src="/js/jquery.sticky.js?1674309799"></script>
    <script src="/js/featherlight.min.js?1674309799"></script>
    <script src="/js/highlight.pack.js?1674309799"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1674309799"></script>
    <script src="/js/learn.js?1674309799"></script>
    <script src="/js/hugo-learn.js?1674309799"></script>

    <link href="/mermaid/mermaid.css?1674309799" rel="stylesheet" />
    <script src="/mermaid/mermaid.js?1674309799"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-158079754-2', 'auto');
  ga('send', 'pageview');

</script>
  </body>
</html>
